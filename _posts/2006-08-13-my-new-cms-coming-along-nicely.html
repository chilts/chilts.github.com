---
category: blog
layout: post
title: My New CMS is Coming Along Nicely
published: true
tags: [ perl, mason, cms, mvc, kapiti-geek-nz ]
---
<p>After a fair bit of work over the past month or so (since when kapiti.geek.nz started), my new CMS is starting to take shape.</p>
<p>Today, I finished off adding the content managed pages as seen in the (sparsely populated) <a href="/software/">Software</a> section.</p>
<p>The best thing about the new Content type though, is that it fulfilled all of the criteria I want for all the new content types which I will be adding to it. So far, the Blog type (which is used for <a href="/blog/">/blog/</a>) is mostly there but doesn't quite fit the abstraction I want it to. The DB class is fine, but the display pages are lacking since I'd written them for this site before I wrote them for the CMS.</p>
<p>On the other hand, I wrote all of the display code for the Content type before I wrote anything for this site and it turned out well. Out of the box, the CMS will support 'text', 'code' and 'html' types - weird I know but it proves the concept. Despite this, I assign my pages a content type of <a href="/software/phliky.html">Phliky</a> then, in kapiti.geek.nz, I override the display of that particular type and don't have another jot of work to do :-)</p>
<p>Inadvertently, though I guess I am inclined that way, this new CMS pretty much follows the MVC pattern. I'm not always sure that this is necessary but once a project starts getting big, then it's the best way to go and hopefully this one will get bigger.</p>
<p>As an example, the database interface code is written in Perl modules. The admin interface (which could be termed the controller) is written in Perl/Mason and is a part of the CMS code. The View pages have default versions in the CMS code, but can be overridden with the website pages, which is the technique I used to display a <em>phliky</em> type in the content pages. This approach seems to be the way it turned out and the way it will continue to move forward.</p>
<p>Oh and by the way, I haven't yet worked out a name for it. At the moment, the working title is <em>Fli</em> since it is a play on Fly and hopefully should be really fast. If anyone has any suggestions, let me know.
</p>

