---
layout: post
title: The First Hack Day Considered a Success
published: true
tags: [ postgresql, kiwi-writers, planet-catalyst, timezones ]
---
<p>I managed to do fair bit of what I wanted today but playing with other things also reminded me how much you need to know to get the job done.</p>
<p>Yesterday, I declared that <a href="i-declare-that-tomorrow-is-hack-day.html">today was Hack Day</a>. Overall, I didn't even finish my first task but that's because of two things: (i) coffee, and (ii) refreshing my memory.</p>
<p>All I want a simple cron'd script to do something every 15 mins. As it turns out there is lots more stuff you have to consider for that one ickl' script and it needs a <strong>lot</strong> more infrastructure than you expect. I ended up using:</p>
<ul><li><a href="timezones-freak-me-out.html">timezones</a></li><li>cron scripts and using <code>dh_installcron</code></li><li>logging with <code>Log::Log4perl</code></li><li>creating system users in the <code>postinst</code> with <code>id</code> and <code>useradd</code></li><li>making sure the package remove and purge works correctly</li><li>setting up and running <code>logrotate</code> and <code>dh_installlogrotate</code></li><li>and not forgetting the actual script itself that's doing all the work</li></ul>
<p>It's funny how a simple script requires all this other padding around it. The good thing is, I've done it the once now so adding further scripts in the future should be easy enough.</p>
<p>I've set it going on my laptop and I'll check the logs tomorrow. If it seems fine so far I'll finish the script off to do the actual database insertions I need.</p>
<p>Phew! Like everything at the moment it's the small things that take the most time.
</p>

